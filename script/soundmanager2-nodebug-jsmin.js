/*
   SoundManager 2: Javascript Sound for the Web
   --------------------------------------------
   http://schillmania.com/projects/soundmanager2/

   Copyright (c) 2007, Scott Schiller. All rights reserved.
   Code provided under the BSD License:
   http://schillmania.com/projects/soundmanager2/license.txt

   V2.95b.20100323
*/
(function(c){var b=null;function a(e,h){this.flashVersion=8;this.debugMode=false;this.debugFlash=false;this.useConsole=true;this.consoleOnly=false;this.waitForWindowLoad=false;this.nullURL="null.mp3";this.allowPolling=true;this.useFastPolling=false;this.useMovieStar=false;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashLoadTimeout=1000;this.wmode=null;this.allowFullScreen=true;this.allowScriptAccess="always";this.useFlashBlock=false;this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5000,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={onmetadata:null,useVideo:false,bufferTime:2};var f,l=this,k="soundManager",j,d="http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",i;this.version=null;this.versionNumber="V2.95b.20100323";this.movieURL=null;this.url=(e||null);this.altURL=null;this.swfLoaded=false;this.enabled=false;this.o=null;this.movieID="sm2-container";this.id=(h||"sm2movie");this.swfCSS={swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.isFullScreen=false;this.isIE=(navigator.userAgent.match(/MSIE/i));this.isSafari=(navigator.userAgent.match(/safari/i));this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.specialWmodeCase=false;this.didFlashBlock=false;this._onready=[];this._debugOpen=true;this._didAppend=false;this._appendSuccess=false;this._didInit=false;this._disabled=false;this._windowLoaded=false;this._hasConsole=(typeof console!=="undefined"&&typeof console.log!=="undefined");this._debugLevels=["log","info","warn","error"];this._defaultFlashVersion=8;this._oRemoved=null;this._oRemovedHTML=null;j=function(m){return document.getElementById(m)};this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?\.*)?$/i,flash9:/\.mp3(\?\.*)?$/i};this.baseMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=new RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=l.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this._setVersionInfo=function(){if(l.flashVersion!==8&&l.flashVersion!==9){alert(l._str("badFV",l.flashVersion,l._defaultFlashVersion));l.flashVersion=l._defaultFlashVersion}l.version=l.versionNumber+(l.flashVersion===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(l.flashVersion>8){l.defaultOptions=l._mergeObjects(l.defaultOptions,l.flash9Options);l.features.buffering=true}if(l.flashVersion>8&&l.useMovieStar){l.defaultOptions=l._mergeObjects(l.defaultOptions,l.movieStarOptions);l.filePatterns.flash9=new RegExp("\\.(mp3|"+l.netStreamTypes.join("|")+")(\\?.*)?$","i");l.mimePattern=l.netStreamMimeTypes;l.features.movieStar=true}else{l.useMovieStar=false;l.features.movieStar=false}l.filePattern=l.filePatterns[(l.flashVersion!==8?"flash9":"flash8")];l.movieURL=(l.flashVersion===8?"soundmanager2.swf":"soundmanager2_flash9.swf");l.features.peakData=l.features.waveformData=l.features.eqData=(l.flashVersion>8)};this._overHTTP=(document.location?document.location.protocol.match(/http/i):null);this._waitingforEI=false;this._initPending=false;this._tryInitOnFocus=(this.isSafari&&typeof document.hasFocus==="undefined");this._isFocused=(typeof document.hasFocus!=="undefined"?document.hasFocus():null);this._okToDisable=!this._tryInitOnFocus;this.useAltURL=!this._overHTTP;this.strings={};this._str=function(){var r=Array.prototype.slice.call(arguments),q=r.shift(),p=(l.strings&&l.strings[q]?l.strings[q]:""),n,m;if(p&&r&&r.length){for(n=0,m=r.length;n<m;n++){p=p.replace("%s",r[n])}}return p};function g(m){if(l.flashVersion===8&&m.loops>1&&m.stream){m.stream=false}return m}this.supported=function(){return(l._didInit&&!l._disabled)};this.getMovie=function(m){return l.isIE?c[m]:(l.isSafari?j(m)||document[m]:j(m))};this.loadFromXML=function(m){try{l.o._loadFromXML(m)}catch(n){l._failSafely();return true}};this.createSound=function(n){var p="soundManager.createSound(): ",o=null,m=null;if(!l._didInit){throw l._complain(p+l._str("notReady"),arguments.callee.caller)}if(arguments.length===2){n={id:arguments[0],url:arguments[1]}}o=l._mergeObjects(n);m=o;if(l._idCheck(m.id,true)){return l.sounds[m.id]}if(l.flashVersion>8&&l.useMovieStar){if(m.isMovieStar===null){m.isMovieStar=(m.url.match(l.netStreamPattern)?true:false)}if(m.isMovieStar){}if(m.isMovieStar&&m.usePeakData){m.usePeakData=false}}o=g(o);l.sounds[m.id]=new f(m);l.soundIDs.push(m.id);if(l.flashVersion===8){l.o._createSound(m.id,m.onjustbeforefinishtime,m.loops||1)}else{l.o._createSound(m.id,m.url,m.onjustbeforefinishtime,m.usePeakData,m.useWaveformData,m.useEQData,m.isMovieStar,(m.isMovieStar?m.useVideo:false),(m.isMovieStar?m.bufferTime:false),m.loops?m.loops:1)}if(m.autoLoad||m.autoPlay){if(l.sounds[m.id]){l.sounds[m.id].load(m)}}if(m.autoPlay){l.sounds[m.id].play()}return l.sounds[m.id]};this.createVideo=function(m){var n="soundManager.createVideo(): ";if(arguments.length===2){m={id:arguments[0],url:arguments[1]}}if(l.flashVersion>=9){m.isMovieStar=true;m.useVideo=true}else{return false}if(!l.useMovieStar){}return l.createSound(m)};this.destroySound=function(n,m){if(!l._idCheck(n)){return false}for(var o=0;o<l.soundIDs.length;o++){if(l.soundIDs[o]===n){l.soundIDs.splice(o,1);continue}}l.sounds[n].unload();if(!m){l.sounds[n].destruct()}delete l.sounds[n]};this.destroyVideo=this.destroySound;this.load=function(m,n){if(!l._idCheck(m)){return false}l.sounds[m].load(n)};this.unload=function(m){if(!l._idCheck(m)){return false}l.sounds[m].unload()};this.play=function(m,n){var o="soundManager.play(): ";if(!l._didInit){throw l._complain(o+l._str("notReady"),arguments.callee.caller)}if(!l._idCheck(m)){if(!(n instanceof Object)){n={url:n}}if(n&&n.url){n.id=m;return l.createSound(n).play()}else{return false}}l.sounds[m].play(n)};this.start=this.play;this.setPosition=function(m,n){if(!l._idCheck(m)){return false}l.sounds[m].setPosition(n)};this.stop=function(m){if(!l._idCheck(m)){return false}l.sounds[m].stop()};this.stopAll=function(){for(var m in l.sounds){if(l.sounds[m] instanceof f){l.sounds[m].stop()}}};this.pause=function(m){if(!l._idCheck(m)){return false}l.sounds[m].pause()};this.pauseAll=function(){for(var m=l.soundIDs.length;m--;){l.sounds[l.soundIDs[m]].pause()}};this.resume=function(m){if(!l._idCheck(m)){return false}l.sounds[m].resume()};this.resumeAll=function(){for(var m=l.soundIDs.length;m--;){l.sounds[l.soundIDs[m]].resume()}};this.togglePause=function(m){if(!l._idCheck(m)){return false}l.sounds[m].togglePause()};this.setPan=function(m,n){if(!l._idCheck(m)){return false}l.sounds[m].setPan(n)};this.setVolume=function(n,m){if(!l._idCheck(n)){return false}l.sounds[n].setVolume(m)};this.mute=function(m){var o="soundManager.mute(): ",n=0;if(typeof m!=="string"){m=null}if(!m){for(n=l.soundIDs.length;n--;){l.sounds[l.soundIDs[n]].mute()}l.muted=true}else{if(!l._idCheck(m)){return false}l.sounds[m].mute()}};this.muteAll=function(){l.mute()};this.unmute=function(m){var o="soundManager.unmute(): ",n;if(typeof m!=="string"){m=null}if(!m){for(n=l.soundIDs.length;n--;){l.sounds[l.soundIDs[n]].unmute()}l.muted=false}else{if(!l._idCheck(m)){return false}l.sounds[m].unmute()}};this.unmuteAll=function(){l.unmute()};this.toggleMute=function(m){if(!l._idCheck(m)){return false}l.sounds[m].toggleMute()};this.getMemoryUse=function(){if(l.flashVersion===8){return 0}if(l.o){return parseInt(l.o._getMemoryUse(),10)}};this.disable=function(n){if(typeof n==="undefined"){n=false}if(l._disabled){return false}l._disabled=true;for(var m=l.soundIDs.length;m--;){l._disableObject(l.sounds[l.soundIDs[m]])}l.initComplete(n)};this.canPlayMIME=function(m){return(m?(m.match(l.mimePattern)?true:false):null)};this.canPlayURL=function(m){return(m?(m.match(l.filePattern)?true:false):null)};this.canPlayLink=function(m){if(typeof m.type!=="undefined"&&m.type){if(l.canPlayMIME(m.type)){return true}}return l.canPlayURL(m.href)};this.getSoundById=function(n,o){if(!n){throw new Error("SoundManager.getSoundById(): sID is null/undefined")}var m=l.sounds[n];if(!m&&!o){}return m};this.onready=function(n,m){if(n&&n instanceof Function){if(l._didInit){}if(!m){m=c}l._addOnReady(n,m);l._processOnReady();return true}else{throw l._str("needFunction")}};this.oninitmovie=function(){};this.onload=function(){};this.onerror=function(){};this._idCheck=this.getSoundById;this._complain=function(o,p){var n="Error: ",m;if(!p){return new Error(n+o)}if(typeof console!=="undefined"&&typeof console.trace!=="undefined"){console.trace()}m=n+o+". \nCaller: "+p.toString();return new Error(m)};i=function(){return false};i._protected=true;this._disableObject=function(n){for(var m in n){if(n.hasOwnProperty(m)&&typeof n[m]==="function"&&typeof n[m]._protected==="undefined"){n[m]=i}}m=null};this._failSafely=function(m){if(typeof m==="undefined"){m=false}if(!l._disabled||m){l.disable(m)}};this._normalizeMovieURL=function(m){var n=null;if(m){if(m.match(/\.swf(\?\.*)?$/i)){n=m.substr(m.toLowerCase().lastIndexOf(".swf?")+4);if(n){return m}}else{if(m.lastIndexOf("/")!==m.length-1){m=m+"/"}}}return(m&&m.lastIndexOf("/")!==-1?m.substr(0,m.lastIndexOf("/")+1):"./")+l.movieURL};this._getDocument=function(){return(document.body?document.body:(document.documentElement?document.documentElement:document.getElementsByTagName("div")[0]))};this._getDocument._protected=true;this._setPolling=function(m,n){if(!l.o||!l.allowPolling){return false}l.o._setPolling(m,n)};this._createMovie=function(D,r){var y=null,C=(r?r:l.url),w=(l.altURL?l.altURL:C),G,t,F,z,v,n,o,B,A,u,p,q,H,m="100%";if(l.debugURLParam.test(c.location.href.toString())){l.debugMode=true}if(l._didAppend&&l._appendSuccess){return false}l._didAppend=true;l._setVersionInfo();l.url=l._normalizeMovieURL(l._overHTTP?C:w);r=l.url;if(l.useHighPerformance&&l.useMovieStar&&l.defaultOptions.useVideo===true){y="soundManager note: disabling highPerformance, not applicable with movieStar mode+useVideo";l.useHighPerformance=false}l.wmode=(!l.wmode&&l.useHighPerformance&&!l.useMovieStar?"transparent":l.wmode);if(l.wmode!==null&&!l.isIE&&!l.useHighPerformance&&navigator.platform.match(/win32/i)){l.specialWmodeCase=true;l.wmode=null}if(l.flashVersion===8){l.allowFullScreen=false}G={name:D,id:D,src:r,width:m,height:m,quality:"high",allowScriptAccess:l.allowScriptAccess,bgcolor:l.bgColor,pluginspage:"http://www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:l.wmode,allowfullscreen:(l.allowFullScreen?"true":"false")};if(l.debugFlash){G.FlashVars="debug=1"}if(!l.wmode){delete G.wmode}if(l.isIE){t=document.createElement("div");z='<object id="'+D+'" data="'+r+'" type="'+G.type+'" width="'+G.width+'" height="'+G.height+'"><param name="movie" value="'+r+'" /><param name="AllowScriptAccess" value="'+l.allowScriptAccess+'" /><param name="quality" value="'+G.quality+'" />'+(l.wmode?'<param name="wmode" value="'+l.wmode+'" /> ':"")+'<param name="bgcolor" value="'+l.bgColor+'" /><param name="allowFullScreen" value="'+G.allowFullScreen+'" />'+(l.debugFlash?'<param name="FlashVars" value="'+G.FlashVars+'" />':"")+"<!-- --></object>"}else{t=document.createElement("embed");for(F in G){if(G.hasOwnProperty(F)){t.setAttribute(F,G[F])}}}A=l.getSWFCSS();B=l._getDocument();if(B){l.oMC=j(l.movieID)?j(l.movieID):document.createElement("div");if(!l.oMC.id){l.oMC.id=l.movieID;l.oMC.className=l.swfCSS.swfDefault+" "+A;u=null;v=null;if(!l.useFlashBlock){if(l.useHighPerformance){u={position:"fixed",width:"6px",height:"6px",bottom:"0px",left:"0px",overflow:"hidden"}}else{u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"}}}p=null;if(!l.debugFlash){for(p in u){if(u.hasOwnProperty(p)){l.oMC.style[p]=u[p]}}}try{if(!l.isIE){l.oMC.appendChild(t)}B.appendChild(l.oMC);if(l.isIE){v=l.oMC.appendChild(document.createElement("div"));v.className="sm2-object-box";v.innerHTML=z}l._appendSuccess=true}catch(E){throw new Error(l._str("appXHTML"))}}else{H=l.oMC.className;l.oMC.className=(H?H+" ":l.swfCSS.swfDefault)+(A?" "+A:"");l.oMC.appendChild(t);if(l.isIE){v=l.oMC.appendChild(document.createElement("div"));v.className="sm2-object-box";v.innerHTML=z}l._appendSuccess=true}}if(y){}};this._writeDebug=function(m,o,n){};this._writeDebug._protected=true;this._wdCount=0;this._wdCount._protected=true;this._wD=this._writeDebug;this._wDS=function(n,m){};this._wDS._protected=true;this._toggleDebug=function(){};this._toggleDebug._protected=true;this._debug=function(){};this._debugTS=function(o,m,n){};this._debugTS._protected=true;this._mergeObjects=function(n,m){var r={},p,q,s;for(p in n){if(n.hasOwnProperty(p)){r[p]=n[p]}}q=(typeof m==="undefined"?l.defaultOptions:m);for(s in q){if(q.hasOwnProperty(s)&&typeof r[s]==="undefined"){r[s]=q[s]}}return r};this.createMovie=function(m){if(m){l.url=m}l._initMovie()};this.go=this.createMovie;this._initMovie=function(){if(l.o){return false}l.o=l.getMovie(l.id);if(!l.o){if(!l.oRemoved){l._createMovie(l.id,l.url)}else{if(!l.isIE){l.oMC.appendChild(l.oRemoved)}else{l.oMC.innerHTML=l.oRemovedHTML}l.oRemoved=null;l._didAppend=true}l.o=l.getMovie(l.id)}if(l.o){}if(typeof l.oninitmovie==="function"){setTimeout(l.oninitmovie,1)}};this.waitForExternalInterface=function(){if(l._waitingForEI){return false}l._waitingForEI=true;if(l._tryInitOnFocus&&!l._isFocused){return false}var m;if(!l._didInit){m=l.getMoviePercent()}setTimeout(function(){m=l.getMoviePercent();if(!l._didInit){if(!l._overHTTP&&m){if(!l.debugFlash){}}if(m===0){}}if(!l._didInit&&l._okToDisable){if(!m){if(l.useFlashBlock||l.flashLoadTimeout===0){if(l.useFlashBlock){l.flashBlockHandler()}}else{l._failSafely(true)}}else{if(l.flashLoadTimeout===0){}else{l._failSafely(true)}}}},l.flashLoadTimeout)};this.getSWFCSS=function(){var m=[];if(l.debugMode){m.push(l.swfCSS.sm2Debug)}if(l.debugFlash){m.push(l.swfCSS.flashDebug)}if(l.useHighPerformance){m.push(l.swfCSS.highPerf)}return m.join(" ")};this.flashBlockHandler=function(){var m="soundManager.flashBlockHandler()",n=l.getMoviePercent();if(!l.supported()){l.oMC.className=l.getSWFCSS()+" "+l.swfCSS.swfDefault+" "+(!n?l.swfCSS.swfTimedout:l.swfCSS.swfError);if(!n){}l._processOnReady(true);if(l.onerror instanceof Function){l.onerror.apply(c)}l.didFlashBlock=true}else{l.oMC.className=l.getSWFCSS()+" "+l.swfCSS.swfDefault+(" "+l.swfCSS.swfUnblocked)}};this.getMoviePercent=function(){return(l.o&&typeof l.o.PercentLoaded!=="undefined"?l.o.PercentLoaded():null)};this.handleFocus=function(){if(l._isFocused||!l._tryInitOnFocus){return true}l._okToDisable=true;l._isFocused=true;if(l._tryInitOnFocus){c.removeEventListener("mousemove",l.handleFocus,false)}l._waitingForEI=false;setTimeout(l.waitForExternalInterface,500);if(c.removeEventListener){c.removeEventListener("focus",l.handleFocus,false)}else{if(c.detachEvent){c.detachEvent("onfocus",l.handleFocus)}}};this.initComplete=function(n){if(l._didInit){return false}var o=l.oMC.className,m=(l.useFlashBlock&&l.flashLoadTimeout&&!l.getMoviePercent());if(!m){l._didInit=true}if(l._disabled||n){if(l.useFlashBlock){l.oMC.className=l.getSWFCSS()+" "+(!l.getMoviePercent()?l.swfCSS.swfTimedout:l.swfCSS.swfError)}l._processOnReady();if(l.onerror instanceof Function){l.onerror.apply(c)}return false}else{}if(l.waitForWindowLoad&&!l._windowLoaded){if(c.addEventListener){c.addEventListener("load",l._initUserOnload,false)}else{if(c.attachEvent){c.attachEvent("onload",l._initUserOnload)}}return false}else{if(l.waitForWindowLoad&&l._windowLoaded){}l._initUserOnload()}};this._addOnReady=function(n,m){l._onready.push({method:n,scope:(m||null),fired:false})};this._processOnReady=function(r){if(!l._didInit&&!r){return false}var n={success:(r?l.supported():!l._disabled)},m=[],q,p,o=(!l.useFlashBlock||(l.useFlashBlock&&!l.supported()));for(q=0,p=l._onready.length;q<p;q++){if(l._onready[q].fired!==true){m.push(l._onready[q])}}if(m.length){for(q=0,p=m.length;q<p;q++){if(m[q].scope){m[q].method.apply(m[q].scope,[n])}else{m[q].method(n)}if(!o){m[q].fired=true}}}};this._initUserOnload=function(){c.setTimeout(function(){if(l.useFlashBlock){l.flashBlockHandler()}l._processOnReady();l.onload.apply(c)})};this.init=function(){l._initMovie();if(l._didInit){return false}if(c.removeEventListener){c.removeEventListener("load",l.beginDelayedInit,false)}else{if(c.detachEvent){c.detachEvent("onload",l.beginDelayedInit)}}try{l.o._externalInterfaceTest(false);if(!l.allowPolling){}else{l._setPolling(true,l.useFastPolling?true:false)}if(!l.debugMode){l.o._disableDebug()}l.enabled=true}catch(m){l._failSafely(true);l.initComplete();return false}l.initComplete()};this.beginDelayedInit=function(){l._windowLoaded=true;setTimeout(l.waitForExternalInterface,500);setTimeout(l.beginInit,20)};this.beginInit=function(){if(l._initPending){return false}l.createMovie();l._initMovie();l._initPending=true;return true};this.domContentLoaded=function(){if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",l.domContentLoaded,false)}l.go()};this._externalInterfaceOK=function(m){if(l.swfLoaded){return false}var n=new Date().getTime();l.swfLoaded=true;l._tryInitOnFocus=false;if(l.isIE){setTimeout(l.init,100)}else{l.init()}};this._setSandboxType=function(m){var n=l.sandbox;n.type=m;n.description=n.types[(typeof n.types[m]!=="undefined"?m:"unknown")];if(n.type==="localWithFile"){n.noRemote=true;n.noLocal=false}else{if(n.type==="localWithNetwork"){n.noRemote=false;n.noLocal=true}else{if(n.type==="localTrusted"){n.noRemote=false;n.noLocal=false}}}};this.reboot=function(){if(l.soundIDs.length){}for(var m=l.soundIDs.length;m--;){l.sounds[l.soundIDs[m]].destruct()}try{if(l.isIE){l.oRemovedHTML=l.o.innerHTML}l.oRemoved=l.o.parentNode.removeChild(l.o)}catch(n){}l.oRemovedHTML=null;l.oRemoved=null;l.enabled=false;l._didInit=false;b._waitingForEI=false;l._initPending=false;l._didAppend=false;l._appendSuccess=false;l._disabled=false;l.swfLoaded=false;l.soundIDs={};l.sounds=[];l.o=null;for(m=l._onready.length;m--;){l._onready[m].fired=false}c.setTimeout(b.beginDelayedInit,20)};this.destruct=function(){l.disable(true)};f=function(m){var n=this;this.sID=m.id;this.url=m.url;this.options=l._mergeObjects(m);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this._debug=function(){};this._debug();this.id3={};this.resetProperties=function(o){n.bytesLoaded=null;n.bytesTotal=null;n.position=null;n.duration=null;n.durationEstimate=null;n.loaded=false;n.playState=0;n.paused=false;n.readyState=0;n.muted=false;n.didBeforeFinish=false;n.didJustBeforeFinish=false;n.isBuffering=false;n.instanceOptions={};n.instanceCount=0;n.peakData={left:0,right:0};n.waveformData={left:[],right:[]};n.eqData=[];n.eqData.left=[];n.eqData.right=[]};n.resetProperties();this.load=function(o){if(typeof o!=="undefined"){n._iO=l._mergeObjects(o);n.instanceOptions=n._iO}else{o=n.options;n._iO=o;n.instanceOptions=n._iO;if(n._lastURL&&n._lastURL!==n.url){n._iO.url=n.url;n.url=null}}if(typeof n._iO.url==="undefined"){n._iO.url=n.url}if(n._iO.url===n.url&&n.readyState!==0&&n.readyState!==2){return false}n.url=n._iO.url;n._lastURL=n._iO.url;n.loaded=false;n.readyState=1;n.playState=0;n._iO=g(n._iO);try{if(l.flashVersion===8){l.o._load(n.sID,n._iO.url,n._iO.stream,n._iO.autoPlay,(n._iO.whileloading?1:0),n._iO.loops||1)}else{l.o._load(n.sID,n._iO.url,n._iO.stream?true:false,n._iO.autoPlay?true:false,n._iO.loops||1);if(n._iO.isMovieStar&&n._iO.autoLoad&&!n._iO.autoPlay){n.pause()}}}catch(p){l.onerror();l.disable()}};this.unload=function(){if(n.readyState!==0){if(n.readyState!==2){n.setPosition(0,true)}l.o._unload(n.sID,l.nullURL);n.resetProperties()}};this.destruct=function(){l.o._destroySound(n.sID);l.destroySound(n.sID,true)};this.play=function(p){var q="SMSound.play(): ",o;if(!p){p={}}n._iO=l._mergeObjects(p,n._iO);n._iO=l._mergeObjects(n._iO,n.options);n.instanceOptions=n._iO;if(n.playState===1){o=n._iO.multiShot;if(!o){return false}else{}}if(!n.loaded){if(n.readyState===0){n._iO.autoPlay=true;n.load(n._iO)}else{if(n.readyState===2){return false}else{}}}else{}if(n.paused){n.resume()}else{n.playState=1;if(!n.instanceCount||l.flashVersion>8){n.instanceCount++}n.position=(typeof n._iO.position!=="undefined"&&!isNaN(n._iO.position)?n._iO.position:0);n._iO=g(n._iO);if(n._iO.onplay){n._iO.onplay.apply(n)}n.setVolume(n._iO.volume,true);n.setPan(n._iO.pan,true);l.o._start(n.sID,n._iO.loops||1,(l.flashVersion===9?n.position:n.position/1000))}};this.start=this.play;this.stop=function(o){if(n.playState===1){n.playState=0;n.paused=false;if(n._iO.onstop){n._iO.onstop.apply(n)}l.o._stop(n.sID,o);n.instanceCount=0;n._iO={}}};this.setPosition=function(p,o){if(typeof p==="undefined"){p=0}var q=Math.min(n.duration,Math.max(p,0));n._iO.position=q;if(!o){}l.o._setPosition(n.sID,(l.flashVersion===9?n._iO.position:n._iO.position/1000),(n.paused||!n.playState))};this.pause=function(){if(n.paused||n.playState===0){return false}n.paused=true;l.o._pause(n.sID);if(n._iO.onpause){n._iO.onpause.apply(n)}};this.resume=function(){if(!n.paused||n.playState===0){return false}n.paused=false;l.o._pause(n.sID);if(n._iO.onresume){n._iO.onresume.apply(n)}};this.togglePause=function(){if(n.playState===0){n.play({position:(l.flashVersion===9?n.position:n.position/1000)});return false}if(n.paused){n.resume()}else{n.pause()}};this.setPan=function(p,o){if(typeof p==="undefined"){p=0}if(typeof o==="undefined"){o=false}l.o._setPan(n.sID,p);n._iO.pan=p;if(!o){n.pan=p}};this.setVolume=function(o,p){if(typeof o==="undefined"){o=100}if(typeof p==="undefined"){p=false}l.o._setVolume(n.sID,(l.muted&&!n.muted)||n.muted?0:o);n._iO.volume=o;if(!p){n.volume=o}};this.mute=function(){n.muted=true;l.o._setVolume(n.sID,0)};this.unmute=function(){n.muted=false;var o=typeof n._iO.volume!=="undefined";l.o._setVolume(n.sID,o?n._iO.volume:n.options.volume)};this.toggleMute=function(){if(n.muted){n.unmute()}else{n.mute()}};this._whileloading=function(o,p,q){if(!n._iO.isMovieStar){n.bytesLoaded=o;n.bytesTotal=p;n.duration=Math.floor(q);n.durationEstimate=parseInt((n.bytesTotal/n.bytesLoaded)*n.duration,10);if(n.durationEstimate===undefined){n.durationEstimate=n.duration}if(n.readyState!==3&&n._iO.whileloading){n._iO.whileloading.apply(n)}}else{n.bytesLoaded=o;n.bytesTotal=p;n.duration=Math.floor(q);n.durationEstimate=n.duration;if(n.readyState!==3&&n._iO.whileloading){n._iO.whileloading.apply(n)}}};this._onid3=function(r,o){var s=[],q,p;for(q=0,p=r.length;q<p;q++){s[r[q]]=o[q]}n.id3=l._mergeObjects(n.id3,s);if(n._iO.onid3){n._iO.onid3.apply(n)}};this._whileplaying=function(q,r,t,p,s){if(isNaN(q)||q===null){return false}if(n.playState===0&&q>0){q=0}n.position=q;if(l.flashVersion>8){if(n._iO.usePeakData&&typeof r!=="undefined"&&r){n.peakData={left:r.leftPeak,right:r.rightPeak}}if(n._iO.useWaveformData&&typeof t!=="undefined"&&t){n.waveformData={left:t.split(","),right:p.split(",")}}if(n._iO.useEQData){if(typeof s!=="undefined"&&s&&s.leftEQ){var o=s.leftEQ.split(",");n.eqData=o;n.eqData.left=o;if(typeof s.rightEQ!=="undefined"&&s.rightEQ){n.eqData.right=s.rightEQ.split(",")}}}}if(n.playState===1){if(n.isBuffering){n._onbufferchange(0)}if(n._iO.whileplaying){n._iO.whileplaying.apply(n)}if(n.loaded&&n._iO.onbeforefinish&&n._iO.onbeforefinishtime&&!n.didBeforeFinish&&n.duration-n.position<=n._iO.onbeforefinishtime){n._onbeforefinish()}}};this._onload=function(o){var p="SMSound._onload(): ";o=(o===1?true:false);if(!o){if(l.sandbox.noRemote===true){}if(l.sandbox.noLocal===true){}}n.loaded=o;n.readyState=o?3:2;if(n._iO.onload){n._iO.onload.apply(n)}};this._onbeforefinish=function(){if(!n.didBeforeFinish){n.didBeforeFinish=true;if(n._iO.onbeforefinish){n._iO.onbeforefinish.apply(n)}}};this._onjustbeforefinish=function(o){if(!n.didJustBeforeFinish){n.didJustBeforeFinish=true;if(n._iO.onjustbeforefinish){n._iO.onjustbeforefinish.apply(n)}}};this._onfinish=function(){if(n._iO.onbeforefinishcomplete){n._iO.onbeforefinishcomplete.apply(n)}n.didBeforeFinish=false;n.didJustBeforeFinish=false;if(n.instanceCount){n.instanceCount--;if(!n.instanceCount){n.playState=0;n.paused=false;n.instanceCount=0;n.instanceOptions={}}if(!n.instanceCount||n._iO.multiShotEvents){if(n._iO.onfinish){n._iO.onfinish.apply(n)}}}else{if(n.useVideo){}}};this._onmetadata=function(p){var o="SMSound.onmetadata()";if(!p.width&&!p.height){p.width=320;p.height=240}n.metadata=p;n.width=p.width;n.height=p.height;if(n._iO.onmetadata){n._iO.onmetadata.apply(n)}};this._onbufferchange=function(p){var o="SMSound._onbufferchange()";if(n.playState===0){return false}if(p===n.isBuffering){return false}n.isBuffering=(p===1?true:false);if(n._iO.onbufferchange){n._iO.onbufferchange.apply(n)}};this._ondataerror=function(o){if(n.playState>0){if(n._iO.ondataerror){n._iO.ondataerror.apply(n)}}else{}}};this._onfullscreenchange=function(m){l.isFullScreen=(m===1?true:false);if(!l.isFullScreen){try{c.focus()}catch(n){}}};if(c.addEventListener){c.addEventListener("focus",l.handleFocus,false);c.addEventListener("load",l.beginDelayedInit,false);c.addEventListener("unload",l.destruct,false);if(l._tryInitOnFocus){c.addEventListener("mousemove",l.handleFocus,false)}}else{if(c.attachEvent){c.attachEvent("onfocus",l.handleFocus);c.attachEvent("onload",l.beginDelayedInit);c.attachEvent("unload",l.destruct)}else{b.onerror();b.disable()}}if(document.addEventListener){document.addEventListener("DOMContentLoaded",l.domContentLoaded,false)}}if(typeof SM2_DEFER==="undefined"||!SM2_DEFER){b=new a()}c.SoundManager=a;c.soundManager=b}(window));