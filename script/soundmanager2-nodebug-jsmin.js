/*
   SoundManager 2: Javascript Sound for the Web
   --------------------------------------------
   http://schillmania.com/projects/soundmanager2/

   Copyright (c) 2007, Scott Schiller. All rights reserved.
   Code provided under the BSD License:
   http://schillmania.com/projects/soundmanager2/license.txt

   V2.95b.20100323+DEV
*/
(function(c){var b=null;function a(Y,g){this.flashVersion=8;this.debugMode=false;this.debugFlash=false;this.useConsole=true;this.consoleOnly=false;this.waitForWindowLoad=false;this.nullURL="null.mp3";this.allowPolling=true;this.useFastPolling=false;this.useMovieStar=false;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashLoadTimeout=1000;this.wmode=null;this.allowFullScreen=true;this.allowScriptAccess="always";this.useFlashBlock=false;this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5000,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={onmetadata:null,useVideo:false,bufferTime:2};this.version=null;this.versionNumber="V2.95b.20100323+DEV";this.movieURL=null;this.url=(Y||null);this.altURL=null;this.swfLoaded=false;this.enabled=false;this.o=null;this.movieID="sm2-container";this.id=(g||"sm2movie");this.swfCSS={swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.isFullScreen=false;this.isIE=(navigator.userAgent.match(/MSIE/i));this.isSafari=(navigator.userAgent.match(/safari/i));this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.specialWmodeCase=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?\.*)?$/i,flash9:/\.mp3(\?\.*)?$/i};this.baseMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=new RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=this.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};var t,Q=this,u="soundManager",M,s,Z,I=[],f=true,S,d=false,ab=false,o=false,j=false,h=false,l,ac,q,D,aa,E,r,n,i,F,w,y,ad,N,L,m,K,G,W=["log","info","warn","error"],H=8,e,x,k,C=null,p=null,J,O,U,z,af,P,B,V=false,T=false,R=(typeof console!=="undefined"&&typeof console.log!=="undefined"),ae=(document.location?document.location.protocol.match(/http/i):null),A=(typeof document.hasFocus!=="undefined"?document.hasFocus():null),X=(typeof document.hasFocus==="undefined"&&this.isSafari),v=!X;this.useAltURL=!ae;this.supported=function(){return(o&&!j)};this.getMovie=function(ag){return Q.isIE?c[ag]:(Q.isSafari?M(ag)||document[ag]:M(ag))};this.loadFromXML=function(ag){try{Q.o._loadFromXML(ag)}catch(ah){x();return true}};this.createSound=function(ah){var aj="soundManager.createSound(): ",ai=null,ag=null;if(!o){throw P(aj+J("notReady"),arguments.callee.caller)}if(arguments.length===2){ah={id:arguments[0],url:arguments[1]}}ai=D(ah);ag=ai;if(B(ag.id,true)){return Q.sounds[ag.id]}if(Q.flashVersion>8&&Q.useMovieStar){if(ag.isMovieStar===null){ag.isMovieStar=(ag.url.match(Q.netStreamPattern)?true:false)}if(ag.isMovieStar){}if(ag.isMovieStar&&ag.usePeakData){ag.usePeakData=false}}ai=af(ai);Q.sounds[ag.id]=new t(ag);Q.soundIDs.push(ag.id);if(Q.flashVersion===8){Q.o._createSound(ag.id,ag.onjustbeforefinishtime,ag.loops||1)}else{Q.o._createSound(ag.id,ag.url,ag.onjustbeforefinishtime,ag.usePeakData,ag.useWaveformData,ag.useEQData,ag.isMovieStar,(ag.isMovieStar?ag.useVideo:false),(ag.isMovieStar?ag.bufferTime:false),ag.loops?ag.loops:1)}if(ag.autoLoad||ag.autoPlay){if(Q.sounds[ag.id]){Q.sounds[ag.id].load(ag)}}if(ag.autoPlay){Q.sounds[ag.id].play()}return Q.sounds[ag.id]};this.createVideo=function(ag){var ah="soundManager.createVideo(): ";if(arguments.length===2){ag={id:arguments[0],url:arguments[1]}}if(Q.flashVersion>=9){ag.isMovieStar=true;ag.useVideo=true}else{return false}if(!Q.useMovieStar){}return Q.createSound(ag)};this.destroySound=function(ah,ag){if(!B(ah)){return false}for(var ai=0;ai<Q.soundIDs.length;ai++){if(Q.soundIDs[ai]===ah){Q.soundIDs.splice(ai,1);continue}}Q.sounds[ah].unload();if(!ag){Q.sounds[ah].destruct()}delete Q.sounds[ah]};this.destroyVideo=this.destroySound;this.load=function(ag,ah){if(!B(ag)){return false}Q.sounds[ag].load(ah)};this.unload=function(ag){if(!B(ag)){return false}Q.sounds[ag].unload()};this.play=function(ag,ah){var ai="soundManager.play(): ";if(!o){throw P(ai+J("notReady"),arguments.callee.caller)}if(!B(ag)){if(!(ah instanceof Object)){ah={url:ah}}if(ah&&ah.url){ah.id=ag;return Q.createSound(ah).play()}else{return false}}Q.sounds[ag].play(ah)};this.start=this.play;this.setPosition=function(ag,ah){if(!B(ag)){return false}Q.sounds[ag].setPosition(ah)};this.stop=function(ag){if(!B(ag)){return false}Q.sounds[ag].stop()};this.stopAll=function(){for(var ag in Q.sounds){if(Q.sounds[ag] instanceof t){Q.sounds[ag].stop()}}};this.pause=function(ag){if(!B(ag)){return false}Q.sounds[ag].pause()};this.pauseAll=function(){for(var ag=Q.soundIDs.length;ag--;){Q.sounds[Q.soundIDs[ag]].pause()}};this.resume=function(ag){if(!B(ag)){return false}Q.sounds[ag].resume()};this.resumeAll=function(){for(var ag=Q.soundIDs.length;ag--;){Q.sounds[Q.soundIDs[ag]].resume()}};this.togglePause=function(ag){if(!B(ag)){return false}Q.sounds[ag].togglePause()};this.setPan=function(ag,ah){if(!B(ag)){return false}Q.sounds[ag].setPan(ah)};this.setVolume=function(ah,ag){if(!B(ah)){return false}Q.sounds[ah].setVolume(ag)};this.mute=function(ag){var ai="soundManager.mute(): ",ah=0;if(typeof ag!=="string"){ag=null}if(!ag){for(ah=Q.soundIDs.length;ah--;){Q.sounds[Q.soundIDs[ah]].mute()}Q.muted=true}else{if(!B(ag)){return false}Q.sounds[ag].mute()}};this.muteAll=function(){Q.mute()};this.unmute=function(ag){var ai="soundManager.unmute(): ",ah;if(typeof ag!=="string"){ag=null}if(!ag){for(ah=Q.soundIDs.length;ah--;){Q.sounds[Q.soundIDs[ah]].unmute()}Q.muted=false}else{if(!B(ag)){return false}Q.sounds[ag].unmute()}};this.unmuteAll=function(){Q.unmute()};this.toggleMute=function(ag){if(!B(ag)){return false}Q.sounds[ag].toggleMute()};this.getMemoryUse=function(){if(Q.flashVersion===8){return 0}if(Q.o){return parseInt(Q.o._getMemoryUse(),10)}};this.disable=function(ah){if(typeof ah==="undefined"){ah=false}if(j){return false}j=true;for(var ag=Q.soundIDs.length;ag--;){e(Q.sounds[Q.soundIDs[ag]])}q(ah)};this.canPlayMIME=function(ag){return(ag?(ag.match(Q.mimePattern)?true:false):null)};this.canPlayURL=function(ag){return(ag?(ag.match(Q.filePattern)?true:false):null)};this.canPlayLink=function(ag){if(typeof ag.type!=="undefined"&&ag.type){if(Q.canPlayMIME(ag.type)){return true}}return Q.canPlayURL(ag.href)};this.getSoundById=function(ah,ai){if(!ah){throw new Error("SoundManager.getSoundById(): sID is null/undefined")}var ag=Q.sounds[ah];if(!ag&&!ai){}return ag};this.onready=function(ah,ag){if(ah&&ah instanceof Function){if(o){}if(!ag){ag=c}aa(ah,ag);E();return true}else{throw J("needFunction")}};this.oninitmovie=function(){};this.onload=function(){};this.onerror=function(){};this.getMoviePercent=function(){return(Q.o&&typeof Q.o.PercentLoaded!=="undefined"?Q.o.PercentLoaded():null)};this._writeDebug=function(ag,ai,ah){};this._wD=this._writeDebug;this._debug=function(){};this.reboot=function(){if(Q.soundIDs.length){}for(var ag=Q.soundIDs.length;ag--;){Q.sounds[Q.soundIDs[ag]].destruct()}try{if(Q.isIE){p=Q.o.innerHTML}C=Q.o.parentNode.removeChild(Q.o)}catch(ah){}p=null;C=null;Q.enabled=false;o=false;V=false;T=false;d=false;ab=false;j=false;Q.swfLoaded=false;Q.soundIDs={};Q.sounds=[];Q.o=null;for(ag=I.length;ag--;){I[ag].fired=false}c.setTimeout(b.beginDelayedInit,20)};this.destruct=function(){Q.disable(true)};this.beginDelayedInit=function(){h=true;setTimeout(i,500);setTimeout(y,20)};ad={};M=function(ag){return document.getElementById(ag)};ac=0;J=function(){var ak=Array.prototype.slice.call(arguments),aj=ak.shift(),ai=(ad&&ad[aj]?ad[aj]:""),ah,ag;if(ai&&ak&&ak.length){for(ah=0,ag=ak.length;ah<ag;ah++){ai=ai.replace("%s",ak[ah])}}return ai};af=function(ag){if(Q.flashVersion===8&&ag.loops>1&&ag.stream){ag.stream=false}return ag};P=function(ai,aj){var ah="Error: ",ag;if(!aj){return new Error(ah+ai)}if(typeof console!=="undefined"&&typeof console.trace!=="undefined"){console.trace()}ag=ah+ai+". \nCaller: "+aj.toString();return new Error(ag)};s=function(){return false};e=function(ah){for(var ag in ah){if(ah.hasOwnProperty(ag)&&typeof ah[ag]==="function"){ah[ag]=s}}ag=null};x=function(ag){if(typeof ag==="undefined"){ag=false}if(j||ag){Q.disable(ag)}};k=function(ag){var ah=null;if(ag){if(ag.match(/\.swf(\?\.*)?$/i)){ah=ag.substr(ag.toLowerCase().lastIndexOf(".swf?")+4);if(ah){return ag}}else{if(ag.lastIndexOf("/")!==ag.length-1){ag=ag+"/"}}}return(ag&&ag.lastIndexOf("/")!==-1?ag.substr(0,ag.lastIndexOf("/")+1):"./")+Q.movieURL};F=function(){if(Q.flashVersion!==8&&Q.flashVersion!==9){alert(J("badFV",Q.flashVersion,H));Q.flashVersion=H}Q.version=Q.versionNumber+(Q.flashVersion===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(Q.flashVersion>8){Q.defaultOptions=D(Q.defaultOptions,Q.flash9Options);Q.features.buffering=true}if(Q.flashVersion>8&&Q.useMovieStar){Q.defaultOptions=D(Q.defaultOptions,Q.movieStarOptions);Q.filePatterns.flash9=new RegExp("\\.(mp3|"+Q.netStreamTypes.join("|")+")(\\?.*)?$","i");Q.mimePattern=Q.netStreamMimeTypes;Q.features.movieStar=true}else{Q.useMovieStar=false;Q.features.movieStar=false}Q.filePattern=Q.filePatterns[(Q.flashVersion!==8?"flash9":"flash8")];Q.movieURL=(Q.flashVersion===8?"soundmanager2.swf":"soundmanager2_flash9.swf");Q.features.peakData=Q.features.waveformData=Q.features.eqData=(Q.flashVersion>8)};m=function(){return(document.body?document.body:(document.documentElement?document.documentElement:document.getElementsByTagName("div")[0]))};G=function(ag,ah){if(!Q.o||!Q.allowPolling){return false}Q.o._setPolling(ag,ah)};K=function(aw,al){var aq=null,av=(al?al:Q.url),ap=(Q.altURL?Q.altURL:av),az,am,ay,ar,ao,ah,ai,au,at,an,aj,ak,aA,ag="100%";if(Q.debugURLParam.test(c.location.href.toString())){Q.debugMode=true}if(d&&ab){return false}d=true;F();Q.url=k(ae?av:ap);al=Q.url;if(Q.useHighPerformance&&Q.useMovieStar&&Q.defaultOptions.useVideo===true){aq="soundManager note: disabling highPerformance, not applicable with movieStar mode+useVideo";Q.useHighPerformance=false}Q.wmode=(!Q.wmode&&Q.useHighPerformance&&!Q.useMovieStar?"transparent":Q.wmode);if(Q.wmode!==null&&!Q.isIE&&!Q.useHighPerformance&&navigator.platform.match(/win32/i)){Q.specialWmodeCase=true;Q.wmode=null}if(Q.flashVersion===8){Q.allowFullScreen=false}az={name:aw,id:aw,src:al,width:ag,height:ag,quality:"high",allowScriptAccess:Q.allowScriptAccess,bgcolor:Q.bgColor,pluginspage:"http://www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:Q.wmode,allowfullscreen:(Q.allowFullScreen?"true":"false")};if(Q.debugFlash){az.FlashVars="debug=1"}if(!Q.wmode){delete az.wmode}if(Q.isIE){am=document.createElement("div");ar='<object id="'+aw+'" data="'+al+'" type="'+az.type+'" width="'+az.width+'" height="'+az.height+'"><param name="movie" value="'+al+'" /><param name="AllowScriptAccess" value="'+Q.allowScriptAccess+'" /><param name="quality" value="'+az.quality+'" />'+(Q.wmode?'<param name="wmode" value="'+Q.wmode+'" /> ':"")+'<param name="bgcolor" value="'+Q.bgColor+'" /><param name="allowFullScreen" value="'+az.allowFullScreen+'" />'+(Q.debugFlash?'<param name="FlashVars" value="'+az.FlashVars+'" />':"")+"<!-- --></object>"}else{am=document.createElement("embed");for(ay in az){if(az.hasOwnProperty(ay)){am.setAttribute(ay,az[ay])}}}at=U();au=m();if(au){Q.oMC=M(Q.movieID)?M(Q.movieID):document.createElement("div");if(!Q.oMC.id){Q.oMC.id=Q.movieID;Q.oMC.className=Q.swfCSS.swfDefault+" "+at;an=null;ao=null;if(!Q.useFlashBlock){if(Q.useHighPerformance){an={position:"fixed",width:"6px",height:"6px",bottom:"0px",left:"0px",overflow:"hidden"}}else{an={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"}}}aj=null;if(!Q.debugFlash){for(aj in an){if(an.hasOwnProperty(aj)){Q.oMC.style[aj]=an[aj]}}}try{if(!Q.isIE){Q.oMC.appendChild(am)}au.appendChild(Q.oMC);if(Q.isIE){ao=Q.oMC.appendChild(document.createElement("div"));ao.className="sm2-object-box";ao.innerHTML=ar}ab=true}catch(ax){throw new Error(J("appXHTML"))}}else{aA=Q.oMC.className;Q.oMC.className=(aA?aA+" ":Q.swfCSS.swfDefault)+(at?" "+at:"");Q.oMC.appendChild(am);if(Q.isIE){ao=Q.oMC.appendChild(document.createElement("div"));ao.className="sm2-object-box";ao.innerHTML=ar}ab=true}}if(aq){}};B=this.getSoundById;D=function(ah,ag){var ak={},ai,aj,al;for(ai in ah){if(ah.hasOwnProperty(ai)){ak[ai]=ah[ai]}}aj=(typeof ag==="undefined"?Q.defaultOptions:ag);for(al in aj){if(aj.hasOwnProperty(al)&&typeof ak[al]==="undefined"){ak[al]=aj[al]}}return ak};N=function(){if(Q.o){return false}Q.o=Q.getMovie(Q.id);if(!Q.o){if(!C){K(Q.id,Q.url)}else{if(!Q.isIE){Q.oMC.appendChild(C)}else{Q.oMC.innerHTML=p}C=null;d=true}Q.o=Q.getMovie(Q.id)}if(Q.o){}if(typeof Q.oninitmovie==="function"){setTimeout(Q.oninitmovie,1)}};n=function(ag){if(ag){Q.url=ag}N()};i=function(){if(V){return false}V=true;if(Q._tryInitOnFocus&&!Q._isFocused){return false}var ag;if(!o){ag=Q.getMoviePercent()}setTimeout(function(){ag=Q.getMoviePercent();if(!o){if(!ae&&ag){if(!Q.debugFlash){}}if(ag===0){}}if(!o&&Q._okToDisable){if(!ag){if(Q.useFlashBlock||Q.flashLoadTimeout===0){if(Q.useFlashBlock){O()}}else{x(true)}}else{if(Q.flashLoadTimeout===0){}else{x(true)}}}},Q.flashLoadTimeout)};U=function(){var ag=[];if(Q.debugMode){ag.push(Q.swfCSS.sm2Debug)}if(Q.debugFlash){ag.push(Q.swfCSS.flashDebug)}if(Q.useHighPerformance){ag.push(Q.swfCSS.highPerf)}return ag.join(" ")};O=function(){var ag="soundManager::flashBlockHandler()",ah=Q.getMoviePercent();if(!Q.supported()){Q.oMC.className=U()+" "+Q.swfCSS.swfDefault+" "+(!ah?Q.swfCSS.swfTimedout:Q.swfCSS.swfError);E(true);if(Q.onerror instanceof Function){Q.onerror.apply(c)}Q.didFlashBlock=true}else{if(Q.didFlashBlock){}Q.oMC.className=U()+" "+Q.swfCSS.swfDefault+(" "+Q.swfCSS.swfUnblocked)}};w=function(){if(Q._isFocused||!Q._tryInitOnFocus){return true}Q._okToDisable=true;Q._isFocused=true;if(Q._tryInitOnFocus){c.removeEventListener("mousemove",w,false)}V=false;setTimeout(i,500);if(c.removeEventListener){c.removeEventListener("focus",w,false)}else{if(c.detachEvent){c.detachEvent("onfocus",w)}}};q=function(ah){if(o){return false}var ai=Q.oMC.className,ag=(Q.useFlashBlock&&Q.flashLoadTimeout&&!Q.getMoviePercent());if(!ag){o=true}if(j||ah){if(Q.useFlashBlock){Q.oMC.className=U()+" "+(!Q.getMoviePercent()?Q.swfCSS.swfTimedout:Q.swfCSS.swfError)}E();if(Q.onerror instanceof Function){Q.onerror.apply(c)}return false}else{}if(Q.waitForWindowLoad&&!h){if(c.addEventListener){c.addEventListener("load",r,false)}else{if(c.attachEvent){c.attachEvent("onload",r)}}return false}else{if(Q.waitForWindowLoad&&h){}r()}};aa=function(ah,ag){I.push({method:ah,scope:(ag||null),fired:false})};E=function(al){if(!o&&!al){return false}var ah={success:(al?Q.supported():!j)},ag=[],ak,aj,ai=(!Q.useFlashBlock||(Q.useFlashBlock&&!Q.supported()));for(ak=0,aj=I.length;ak<aj;ak++){if(I[ak].fired!==true){ag.push(I[ak])}}if(ag.length){for(ak=0,aj=ag.length;ak<aj;ak++){if(ag[ak].scope){ag[ak].method.apply(ag[ak].scope,[ah])}else{ag[ak].method(ah)}if(!ai){ag[ak].fired=true}}}};r=function(){c.setTimeout(function(){if(Q.useFlashBlock){O()}E();Q.onload.apply(c)})};Z=function(){N();if(o){return false}if(c.removeEventListener){c.removeEventListener("load",Q.beginDelayedInit,false)}else{if(c.detachEvent){c.detachEvent("onload",Q.beginDelayedInit)}}try{Q.o._externalInterfaceTest(false);if(!Q.allowPolling){}else{G(true,Q.useFastPolling?true:false)}if(!Q.debugMode){Q.o._disableDebug()}Q.enabled=true}catch(ag){x(true);q();return false}q()};y=function(){if(T){return false}K();N();T=true;return true};L=function(){if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",L,false)}n()};this._setSandboxType=function(ag){var ah=Q.sandbox;ah.type=ag;ah.description=ah.types[(typeof ah.types[ag]!=="undefined"?ag:"unknown")];if(ah.type==="localWithFile"){ah.noRemote=true;ah.noLocal=false}else{if(ah.type==="localWithNetwork"){ah.noRemote=false;ah.noLocal=true}else{if(ah.type==="localTrusted"){ah.noRemote=false;ah.noLocal=false}}}};this._externalInterfaceOK=function(ag){if(Q.swfLoaded){return false}var ah=new Date().getTime();Q.swfLoaded=true;Q._tryInitOnFocus=false;if(Q.isIE){setTimeout(Z,100)}else{Z()}};this._onfullscreenchange=function(ag){Q.isFullScreen=(ag===1?true:false);if(!Q.isFullScreen){try{c.focus()}catch(ah){}}};t=function(ag){var ah=this,ai;this.sID=ag.id;this.url=ag.url;this.options=D(ag);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this.id3={};this._debug=function(){};this._debug();this.load=function(aj){if(typeof aj!=="undefined"){ah._iO=D(aj);ah.instanceOptions=ah._iO}else{aj=ah.options;ah._iO=aj;ah.instanceOptions=ah._iO;if(ah._lastURL&&ah._lastURL!==ah.url){ah._iO.url=ah.url;ah.url=null}}if(typeof ah._iO.url==="undefined"){ah._iO.url=ah.url}if(ah._iO.url===ah.url&&ah.readyState!==0&&ah.readyState!==2){return false}ah.url=ah._iO.url;ah._lastURL=ah._iO.url;ah.loaded=false;ah.readyState=1;ah.playState=0;ah._iO=af(ah._iO);try{if(Q.flashVersion===8){Q.o._load(ah.sID,ah._iO.url,ah._iO.stream,ah._iO.autoPlay,(ah._iO.whileloading?1:0),ah._iO.loops||1)}else{Q.o._load(ah.sID,ah._iO.url,ah._iO.stream?true:false,ah._iO.autoPlay?true:false,ah._iO.loops||1);if(ah._iO.isMovieStar&&ah._iO.autoLoad&&!ah._iO.autoPlay){ah.pause()}}}catch(ak){Q.onerror();Q.disable()}};this.unload=function(){if(ah.readyState!==0){if(ah.readyState!==2){ah.setPosition(0,true)}Q.o._unload(ah.sID,Q.nullURL);ai()}};this.destruct=function(){Q.o._destroySound(ah.sID);Q.destroySound(ah.sID,true)};this.play=function(ak){var al="SMSound.play(): ",aj;if(!ak){ak={}}ah._iO=D(ak,ah._iO);ah._iO=D(ah._iO,ah.options);ah.instanceOptions=ah._iO;if(ah.playState===1){aj=ah._iO.multiShot;if(!aj){return false}else{}}if(!ah.loaded){if(ah.readyState===0){ah._iO.autoPlay=true;ah.load(ah._iO)}else{if(ah.readyState===2){return false}else{}}}else{}if(ah.paused){ah.resume()}else{ah.playState=1;if(!ah.instanceCount||Q.flashVersion>8){ah.instanceCount++}ah.position=(typeof ah._iO.position!=="undefined"&&!isNaN(ah._iO.position)?ah._iO.position:0);ah._iO=af(ah._iO);if(ah._iO.onplay){ah._iO.onplay.apply(ah)}ah.setVolume(ah._iO.volume,true);ah.setPan(ah._iO.pan,true);Q.o._start(ah.sID,ah._iO.loops||1,(Q.flashVersion===9?ah.position:ah.position/1000))}};this.start=this.play;this.stop=function(aj){if(ah.playState===1){ah.playState=0;ah.paused=false;if(ah._iO.onstop){ah._iO.onstop.apply(ah)}Q.o._stop(ah.sID,aj);ah.instanceCount=0;ah._iO={}}};this.setPosition=function(ak,aj){if(typeof ak==="undefined"){ak=0}var al=Math.min(ah.duration,Math.max(ak,0));ah._iO.position=al;if(!aj){}Q.o._setPosition(ah.sID,(Q.flashVersion===9?ah._iO.position:ah._iO.position/1000),(ah.paused||!ah.playState))};this.pause=function(){if(ah.paused||ah.playState===0){return false}ah.paused=true;Q.o._pause(ah.sID);if(ah._iO.onpause){ah._iO.onpause.apply(ah)}};this.resume=function(){if(!ah.paused||ah.playState===0){return false}ah.paused=false;Q.o._pause(ah.sID);if(ah._iO.onresume){ah._iO.onresume.apply(ah)}};this.togglePause=function(){if(ah.playState===0){ah.play({position:(Q.flashVersion===9?ah.position:ah.position/1000)});return false}if(ah.paused){ah.resume()}else{ah.pause()}};this.setPan=function(ak,aj){if(typeof ak==="undefined"){ak=0}if(typeof aj==="undefined"){aj=false}Q.o._setPan(ah.sID,ak);ah._iO.pan=ak;if(!aj){ah.pan=ak}};this.setVolume=function(aj,ak){if(typeof aj==="undefined"){aj=100}if(typeof ak==="undefined"){ak=false}Q.o._setVolume(ah.sID,(Q.muted&&!ah.muted)||ah.muted?0:aj);ah._iO.volume=aj;if(!ak){ah.volume=aj}};this.mute=function(){ah.muted=true;Q.o._setVolume(ah.sID,0)};this.unmute=function(){ah.muted=false;var aj=typeof ah._iO.volume!=="undefined";Q.o._setVolume(ah.sID,aj?ah._iO.volume:ah.options.volume)};this.toggleMute=function(){if(ah.muted){ah.unmute()}else{ah.mute()}};ai=function(aj){ah.bytesLoaded=null;ah.bytesTotal=null;ah.position=null;ah.duration=null;ah.durationEstimate=null;ah.loaded=false;ah.playState=0;ah.paused=false;ah.readyState=0;ah.muted=false;ah.didBeforeFinish=false;ah.didJustBeforeFinish=false;ah.isBuffering=false;ah.instanceOptions={};ah.instanceCount=0;ah.peakData={left:0,right:0};ah.waveformData={left:[],right:[]};ah.eqData=[];ah.eqData.left=[];ah.eqData.right=[]};ai();this._whileloading=function(aj,ak,al){if(!ah._iO.isMovieStar){ah.bytesLoaded=aj;ah.bytesTotal=ak;ah.duration=Math.floor(al);ah.durationEstimate=parseInt((ah.bytesTotal/ah.bytesLoaded)*ah.duration,10);if(ah.durationEstimate===undefined){ah.durationEstimate=ah.duration}if(ah.readyState!==3&&ah._iO.whileloading){ah._iO.whileloading.apply(ah)}}else{ah.bytesLoaded=aj;ah.bytesTotal=ak;ah.duration=Math.floor(al);ah.durationEstimate=ah.duration;if(ah.readyState!==3&&ah._iO.whileloading){ah._iO.whileloading.apply(ah)}}};this._onid3=function(am,aj){var an=[],al,ak;for(al=0,ak=am.length;al<ak;al++){an[am[al]]=aj[al]}ah.id3=D(ah.id3,an);if(ah._iO.onid3){ah._iO.onid3.apply(ah)}};this._whileplaying=function(al,am,ao,ak,an){if(isNaN(al)||al===null){return false}if(ah.playState===0&&al>0){al=0}ah.position=al;if(Q.flashVersion>8){if(ah._iO.usePeakData&&typeof am!=="undefined"&&am){ah.peakData={left:am.leftPeak,right:am.rightPeak}}if(ah._iO.useWaveformData&&typeof ao!=="undefined"&&ao){ah.waveformData={left:ao.split(","),right:ak.split(",")}}if(ah._iO.useEQData){if(typeof an!=="undefined"&&an&&an.leftEQ){var aj=an.leftEQ.split(",");ah.eqData=aj;ah.eqData.left=aj;if(typeof an.rightEQ!=="undefined"&&an.rightEQ){ah.eqData.right=an.rightEQ.split(",")}}}}if(ah.playState===1){if(ah.isBuffering){ah._onbufferchange(0)}if(ah._iO.whileplaying){ah._iO.whileplaying.apply(ah)}if(ah.loaded&&ah._iO.onbeforefinish&&ah._iO.onbeforefinishtime&&!ah.didBeforeFinish&&ah.duration-ah.position<=ah._iO.onbeforefinishtime){ah._onbeforefinish()}}};this._onload=function(aj){var ak="SMSound._onload(): ";aj=(aj===1?true:false);if(!aj){if(Q.sandbox.noRemote===true){}if(Q.sandbox.noLocal===true){}}ah.loaded=aj;ah.readyState=aj?3:2;if(ah._iO.onload){ah._iO.onload.apply(ah)}};this._onbeforefinish=function(){if(!ah.didBeforeFinish){ah.didBeforeFinish=true;if(ah._iO.onbeforefinish){ah._iO.onbeforefinish.apply(ah)}}};this._onjustbeforefinish=function(aj){if(!ah.didJustBeforeFinish){ah.didJustBeforeFinish=true;if(ah._iO.onjustbeforefinish){ah._iO.onjustbeforefinish.apply(ah)}}};this._onfinish=function(){if(ah._iO.onbeforefinishcomplete){ah._iO.onbeforefinishcomplete.apply(ah)}ah.didBeforeFinish=false;ah.didJustBeforeFinish=false;if(ah.instanceCount){ah.instanceCount--;if(!ah.instanceCount){ah.playState=0;ah.paused=false;ah.instanceCount=0;ah.instanceOptions={}}if(!ah.instanceCount||ah._iO.multiShotEvents){if(ah._iO.onfinish){ah._iO.onfinish.apply(ah)}}}else{if(ah.useVideo){}}};this._onmetadata=function(ak){var aj="SMSound.onmetadata()";if(!ak.width&&!ak.height){ak.width=320;ak.height=240}ah.metadata=ak;ah.width=ak.width;ah.height=ak.height;if(ah._iO.onmetadata){ah._iO.onmetadata.apply(ah)}};this._onbufferchange=function(ak){var aj="SMSound._onbufferchange()";if(ah.playState===0){return false}if(ak===ah.isBuffering){return false}ah.isBuffering=(ak===1?true:false);if(ah._iO.onbufferchange){ah._iO.onbufferchange.apply(ah)}};this._ondataerror=function(aj){if(ah.playState>0){if(ah._iO.ondataerror){ah._iO.ondataerror.apply(ah)}}else{}}};if(c.addEventListener){c.addEventListener("focus",w,false);c.addEventListener("load",Q.beginDelayedInit,false);c.addEventListener("unload",Q.destruct,false);if(Q._tryInitOnFocus){c.addEventListener("mousemove",w,false)}}else{if(c.attachEvent){c.attachEvent("onfocus",w);c.attachEvent("onload",Q.beginDelayedInit);c.attachEvent("unload",Q.destruct)}else{b.onerror();b.disable()}}if(document.addEventListener){document.addEventListener("DOMContentLoaded",L,false)}}if(typeof SM2_DEFER==="undefined"||!SM2_DEFER){b=new a()}c.SoundManager=a;c.soundManager=b}(window));